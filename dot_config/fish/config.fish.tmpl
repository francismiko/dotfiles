# =============================================================================
# Fish Shell 主配置文件
#
# 说明: 由 chezmoi 管理，conf.d/ 目录下的文件会自动加载
# =============================================================================

# SSH Agent (Secretive)
set -l _secretive_sock {{ .chezmoi.homeDir }}/Library/Containers/com.maxgoedjen.Secretive.SecretAgent/Data/socket.ssh
if test -S "$_secretive_sock"
    set -gx SSH_AUTH_SOCK "$_secretive_sock"
end

# Homebrew 环境配置
if test -x /opt/homebrew/bin/brew
    /opt/homebrew/bin/brew shellenv | source
end

# OrbStack 集成
if test -f ~/.orbstack/shell/init2.fish
    source ~/.orbstack/shell/init2.fish
end

# Starship prompt 初始化 (放在配置文件末尾)
if type -q starship
    starship init fish | source
end
