# Powerlevel10k 终端提示符配置
# 仅在非 Warp 终端中启用（Warp 有自己的主题）

# 检测是否为 Warp 终端
if [[ "$TERM_PROGRAM" != "WarpTerminal" ]]; then
    # Powerlevel10k instant prompt（必须在最开始加载）
    # 启用此功能可以加快终端启动速度
    if [[ -r "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh" ]]; then
        source "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh"
    fi

    # 加载 Powerlevel10k 主题
    source /opt/homebrew/share/powerlevel10k/powerlevel10k.zsh-theme

    # 加载 Powerlevel10k 配置（如果存在）
    [[ ! -f ~/.p10k.zsh ]] || source ~/.p10k.zsh
fi
