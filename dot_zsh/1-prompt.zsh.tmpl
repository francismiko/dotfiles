# 终端提示符配置
# 仅在非 Warp 终端中启用（Warp 有自己的主题）

# 检测是否为 Warp 终端
if [[ "$TERM_PROGRAM" != "WarpTerminal" ]]; then
    # 启用颜色和参数扩展
    autoload -Uz colors && colors
    setopt PROMPT_SUBST

    # Git 分支显示函数
    git_branch() {
        local branch
        branch=$(git symbolic-ref --short HEAD 2>/dev/null)
        if [[ -n "$branch" ]]; then
            echo " %F{yellow}($branch)%f"
        fi
    }

    # 配置提示符
    # 格式: [用户@主机 目录] (git分支)
    # $
    PROMPT='%F{cyan}[%n@%m %~]%f$(git_branch)
%# '

    # 右侧提示符（可选，显示时间）
    # RPROMPT='%F{242}%*%f'
fi
